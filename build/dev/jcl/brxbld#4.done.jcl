//BRXBLD#4 JOB (BREXX),
//*           'BREXX BUILD STEP#4 - BUILD BARE METAL MODULES',
//            CLASS=A,
//            MSGCLASS=H,
//            REGION=8M,
//            MSGLEVEL=(1,1)
//********************************************************************
//*
//* BUILDING BREXX BARE METAL MODULES
//*
//********************************************************************
//*
//* SVC
//*
//SVC      EXEC ASMFC,PARM.ASM=(OBJ,NODECK),MAC='SYS2.MACLIB',
//         MAC1='SYS1.MACLIB',MAC2='SYS1.AMODGEN',
//         MAC3='BRXBLD.ASM.MACLIB'
//ASM.SYSIN        DD DISP=SHR,DSN=BRXBLD.ASM.SRC(SVC)
//ASM.SYSGO        DD DISP=SHR,DSN=BRXBLD.METAL.OBJ(SVC)
//*ASM.SYSPRINT     DD DISP=SHR,DSN=BREXX.LIST.ASM(SVC)
//*
//* GETSA
//*
//GETSA    EXEC ASMFC,PARM.ASM=(OBJ,NODECK),MAC='SYS2.MACLIB',
//         MAC1='SYS1.MACLIB',MAC2='SYS1.AMODGEN',
//         MAC3='BRXBLD.ASM.MACLIB'
//ASM.SYSIN        DD DISP=SHR,DSN=BRXBLD.ASM.SRC(GETSA)
//ASM.SYSGO        DD DISP=SHR,DSN=BRXBLD.METAL.OBJ(GETSA)
//*ASM.SYSPRINT     DD DISP=SHR,DSN=BREXX.LIST.ASM(GETSA)
//*
//* compile brexx bare metal c functions
//*
//METALC  EXEC JCCC,INFILE='BRXBLD.C.SRC(METAL)',
//        JOPTS='-o -systemr -fstk -D__MVS__ -list=//DDN:SYSPRINT'
//COMPILE.JCCINCS  DD DISP=SHR,DSN=BRXBLD.C.INC
//COMPILE.JCCOASM  DD DISP=SHR,DSN=BRXBLD.METAL.OBJ(METALC)
//*COMPILE.SYSPRINT DD DISP=SHR,DSN=BREXX.LIST.CX(METALC)
//*
//* compile printf drop in replacement
//*
//PRINTF  EXEC JCCC,INFILE='BRXBLD.C.SRC(PRINTF)',
//        JOPTS='-o -systemr -fstk -D__MVS__  -list=//DDN:SYSPRINT'
//COMPILE.JCCINCS  DD DISP=SHR,DSN=BRXBLD.C.INC
//COMPILE.JCCOASM  DD DISP=SHR,DSN=BRXBLD.METAL.OBJ(PRINTF)
//*COMPILE.SYSPRINT DD DISP=SHR,DSN=BREXX.LIST.CX(PRINTF)
//*
//* prelink all c objects into one file
//*
//PRELINK  EXEC PGM=PRELINK,
//         PARM='-pre=MC -s NOLIB //DDN:O -//DDN:I'
//STEPLIB  DD   DSN=JCC.LINKLIB,DISP=SHR
//*STDOUT   DD   DISP=SHR,DSN=BREXX.LIST.PRELNK(METAL)
//STDERR   DD   SYSOUT=*
//I        DD   DDNAME=LINKLIST
//SVC      DD   DISP=SHR,DSN=BRXBLD.METAL.OBJ(SVC)
//GETSA    DD   DISP=SHR,DSN=BRXBLD.METAL.OBJ(GETSA)
//METALC   DD   DISP=SHR,DSN=BRXBLD.METAL.OBJ(METALC)
//PRINTF   DD   DISP=SHR,DSN=BRXBLD.METAL.OBJ(PRINTF)
//CTYPE    DD   DISP=SHR,DSN=JCC.OBJ(CTYPE)
//O        DD   DISP=SHR,DSN=BRXBLD.METAL.OBJ(METAL)
//LINKLIST DD DATA,DLM=@@
//DDN:SVC
//DDN:GETSA
//DDN:METALC
//DDN:PRINTF
//DDN:CTYPE
@@
//
